<div>
  <div>
    {{ displayMonth }}
    <br />
    {{ selectedDay | json }}
    <br />
    {{ selectedCalenderRange | json }}
  </div>
  <div>
    <input
      type="number"
      (keyup)="generateCalendarDays()"
      [(ngModel)]="selectedYear"
    />
    <input type="button" (click)="setCurrentMonth()" value="today" />
    <input type="button" (click)="decreaseMonth()" value="-" />
    <input type="button" (click)="increaseMonth()" value="+" />
    <input type="checkbox" [(ngModel)]="selectCalenderRange" />
    <input
      type="button"
      *ngFor="let month of monthNames; let i = index"
      (click)="setSelectedMonth(i - 1)"
      value="{{ month }}"
    />
  </div>
</div>

<table class="calendar-table" *ngIf="calendar">
  <thead>
    <tr>
      <th>Monday</th>
      <th>Tuesday</th>
      <th>Wednesday</th>
      <th>Thursday</th>
      <th>Friday</th>
      <th>Saturday</th>
      <th>Sunday</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let row of calendar | chunk: 7; let i = index">
      <ng-container *ngFor="let c of row; let j = index">
        <td
          (click)="getSelectedDate(c)"
          class="calendar-day"
          [ngClass]="{ 'past-date': c.isPastDate, today: c.isToday }"
          [class.inrange]="c | inCalenderRange: selectedCalenderRange"
          [class.isRangeDate]="
            selectedCalenderRange?.startDay?.date?.setHours(0, 0, 0, 0) ===
              c?.date?.setHours(0, 0, 0, 0) ||
            selectedCalenderRange?.endDay?.date?.setHours(0, 0, 0, 0) ===
              c?.date?.setHours(0, 0, 0, 0)
          "
        >
          <div
            class="calendar-day-header"
            [class.blue-date]="c === selectedDate || c.isToday"
          >
            <strong>{{ c.date.getDate() }}</strong>
            <strong
              *ngIf="c.isToday || (i == 0 && j == 0) || c.date.getDate() == 1"
            >
              {{ monthNames[c.date.getMonth()] }}</strong
            >
          </div>
        </td>
      </ng-container>
    </tr>
  </tbody>
</table>
